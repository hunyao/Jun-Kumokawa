"use strict";(self.webpackChunkJun_Kumokawa=self.webpackChunkJun_Kumokawa||[]).push([[573,833],{84833:function(e,n,r){r.r(n),r.d(n,{Consumer:function(){return p},Provider:function(){return l},RepositoryConsumer:function(){return p},RepositoryProvider:function(){return d},repositoryContext:function(){return f}});var t=r(74165),o=r(1413),a=r(15861),u=r(29439),s=r(72791),c=r(59732),i=r(80184),f=s.createContext({}),l=f.Provider,p=f.Consumer,h={repository:{},branches:[],tags:[],commits:[]};function d(e){var n=e.children,r=s.useState(h),f=(0,u.Z)(r,2),p=f[0],d=f[1],m=s.useState({name:"",commit:{sha:"",url:""}}),b=(0,u.Z)(m,2),v=b[0],Z=b[1],x=s.useState([]),g=(0,u.Z)(x,2),w=g[0],k=g[1];function y(e){return C.apply(this,arguments)}function C(){return(C=(0,a.Z)((0,t.Z)().mark((function e(n){var r,o,a,u;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=1,o=[];case 2:return e.next=5,c.M.request("".concat(n,"?per_page={per_page}&page={page}"),{owner:"hunyao",repo:"Jun-Kumokawa",per_page:100,page:r});case 5:if(a=e.sent,0!==(u=a.data).length&&5!==r){e.next=11;break}return e.abrupt("break",15);case 11:o=o.concat(u),r+=1;case 13:e.next=2;break;case 15:return e.abrupt("return",o);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return s.useEffect((function(){c.M.request("GET /repos/{owner}/{repo}",{owner:"hunyao",repo:"Jun-Kumokawa"}).then((function(e){var n=e.data;d((function(e){return(0,o.Z)((0,o.Z)({},e),{},{repository:n})}))}))}),[]),s.useEffect((function(){y("GET /repos/{owner}/{repo}/branches").then((function(e){d((function(n){return(0,o.Z)((0,o.Z)({},n),{},{branches:e})}))}))}),[]),s.useEffect((function(){y("GET /repos/{owner}/{repo}/tags").then((function(e){d((function(n){return(0,o.Z)((0,o.Z)({},n),{},{tags:e})}))}))}),[]),s.useEffect((function(){y("GET /repos/{owner}/{repo}/commits").then((function(e){d((function(n){return(0,o.Z)((0,o.Z)({},n),{},{commits:e})}))}))}),[]),s.useEffect((function(){void 0!==p.repository.default_branch&&Z(p.branches.find((function(e){return e.name===p.repository.default_branch})))}),[p.repository,p.branches]),s.useEffect((function(){void 0!==v&&""!==v.commit.sha&&c.M.request("GET /repos/{owner}/{repo}/git/trees/{tree_sha}?recursive=1",{owner:"hunyao",repo:"Jun-Kumokawa",tree_sha:v.commit.sha}).then((function(e){var n=e.data;k(n)}))}),[v]),(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(l,{value:{state:p,dispatch:d,selectedBranch:v,changeBranch:Z,allTrees:w},children:n})})}n.default=d},7661:function(e,n,r){var t=r(72791),o=r(84833);n.Z=function(){var e=t.useContext(o.repositoryContext).allTrees;return t.useCallback((function(n){if(0!==e.length){var r=e.tree.find((function(e){return e.path===n}));return void 0===r?"":r.sha}}),[e])}},65573:function(e,n,r){r.r(n),r.d(n,{default:function(){return E}});var t,o=r(29439),a=r(72791),u=r(64554),s=r(20890),c=r(95355),i=r(77227),f=r(90493),l=r(99259),p=r(93385),h=r(62656),d=r(16871),m=r(1413),b=r(45987),v=r(30168),Z=r(15021),x=r(66934),g=r(80184),w=["className"],k=(0,x.ZP)((function(e){var n=e.className,r=(0,b.Z)(e,w);return(0,g.jsx)(Z.ZP,(0,m.Z)({className:n+" tree-browser-list-item"},r))}))(t||(t=(0,v.Z)(["\n& {\n  padding: 8px 4px;\n  color: #8b949e;\n  user-select: none;\n  margin: 1px;\n  background: #0d1117;\n  width: calc(100% - 2px);\n}\n& > .tree-browser-list-item-label {\n  margin-left: 4px;\n  color: #58a6ff;\n}\n&.active {\n  background: #1f6feb;\n  color: #f0f6fc;\n  cursor: pointer;\n}\n&.active > .tree-browser-list-item-label {\n  color: #f0f6fc;\n}\n&:hover {\n  background: #1f6feb;\n  color: #f0f6fc;\n  cursor: pointer;\n}\n&:hover > .tree-browser-list-item-label {\n  color: #f0f6fc;\n}\n"]))),y=r(7661),C=r(84833),j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=a.useContext(C.repositoryContext),r=n.allTrees;return[a.useMemo((function(){return 0===r.length?[]:r.tree.filter((function(e){return"blob"===e.type})).map((function(e){return e.path})).filter((function(n){return n.toUpperCase().includes(e.toUpperCase())})).slice(0,50)}),[e,r])]},E=function(){var e=a.useState(""),n=(0,o.Z)(e,2),r=n[0],t=n[1],m=a.useState(0),b=(0,o.Z)(m,2),v=b[0],Z=b[1],x=j(r),w=(0,o.Z)(x,1)[0],C=(0,y.Z)(),E=(0,d.s0)();return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(u.Z,{display:"flex",alignItems:"center",mt:4,sx:{whiteSpace:"pre",fontSize:16},children:[(0,g.jsx)(c.Z,{href:"#",className:"active",children:"Jun-Kumokawa"})," / ",(0,g.jsx)(i.ZP,{autoFocus:!0,fullWidth:!0,onKeyDown:function(e){var n=e.key,r=v;"ArrowDown"===n?r+=1:"ArrowUp"===n?r-=1:"Enter"===n&&E("/blob/"+C(w[v])),r=(r=r<0?0:r)>=w.length?w.length-1:r,Z(r)},onChange:function(e){var n=e.target.value;return t(n)}})]}),(0,g.jsx)(f.Z,{disablePadding:!0,sx:{background:"#30363d"},children:w.map((function(e,n){return(0,g.jsxs)(k,{disablePadding:!0,className:n===v?"active":"",onClick:function(){return E("/blob/"+C(e))},children:[(0,g.jsx)(l.Z,{component:p.Z,sx:{fontSize:16,marginX:1,visibility:n===v?"visible":"hidden"}}),(0,g.jsx)(l.Z,{component:h.Z,sx:{fontSize:16}}),(0,g.jsx)(s.Z,{component:"span",display:"inline-block",className:"tree-browser-list-item-label",children:e})]})}))})]})}},59732:function(e,n,r){r.d(n,{M:function(){return t}});var t=new(r(56303).v)({auth:!1})},93385:function(e,n,r){var t=r(64836);n.Z=void 0;var o=t(r(45649)),a=r(80184),u=(0,o.default)((0,a.jsx)("path",{d:"M6.23 20.23 8 22l10-10L8 2 6.23 3.77 14.46 12z"}),"ArrowForwardIos");n.Z=u}}]);
//# sourceMappingURL=573.20e8bd40.chunk.js.map