"use strict";(self.webpackChunkJun_Kumokawa=self.webpackChunkJun_Kumokawa||[]).push([[833],{84833:function(e,r,n){n.r(r),n.d(r,{Consumer:function(){return p},Provider:function(){return h},RepositoryConsumer:function(){return p},RepositoryProvider:function(){return m},repositoryContext:function(){return i}});var t=n(74165),a=n(15861),o=n(29439),u=n(72791),s=n(59732),c=n(80184),i=u.createContext({}),h=i.Provider,p=i.Consumer,f={branches:[],tags:[],commits:[]};function m(e){var r=e.children,n=u.useState(f),i=(0,o.Z)(n,2),p=i[0],m=i[1],l=u.useState({name:"",commit:{sha:"",url:""}}),d=(0,o.Z)(l,2),w=d[0],g=d[1],v=u.useState([]),k=(0,o.Z)(v,2),b=k[0],C=k[1];function x(e){return y.apply(this,arguments)}function y(){return(y=(0,a.Z)((0,t.Z)().mark((function e(r){var n,a,o,u;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=1,a=[];case 2:return e.next=5,s.M.request("".concat(r,"?per_page={per_page}&page={page}"),{owner:"hunyao",repo:"Jun-Kumokawa",per_page:100,page:n});case 5:if(o=e.sent,0!==(u=o.data).length&&5!==n){e.next=11;break}return e.abrupt("break",15);case 11:a=a.concat(u),n+=1;case 13:e.next=2;break;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}u.useEffect((function(){Promise.all([s.M.request("GET /repos/{owner}/{repo}/branches/master",{owner:"hunyao",repo:"Jun-Kumokawa"}),x("GET /repos/{owner}/{repo}/branches"),x("GET /repos/{owner}/{repo}/tags"),x("GET /repos/{owner}/{repo}/commits")]).then((function(e){var r=(0,o.Z)(e,4),n=r[0],t=r[1],a=r[2],u=r[3];m({branches:t,tags:a,commits:u}),g(n.data)}))}),[]),u.useEffect((function(){""!==w.commit.sha&&s.M.request("GET /repos/{owner}/{repo}/git/trees/{tree_sha}?recursive=1",{owner:"hunyao",repo:"Jun-Kumokawa",tree_sha:w.commit.sha}).then((function(e){var r=e.data;C(r)}))}),[w]);var E=u.useCallback((function(e){if(0!==b.length&&""!==e){if(e===w.commit.sha)return"";var r=b.tree.find((function(r){return r.sha===e}));return void 0===r?"":r.path}}),[b,w]),Z=u.useCallback((function(e){if(0!==b.length)return b.tree.find((function(r){return r.path===e})).sha}),[b]);return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(h,{value:{state:p,dispatch:m,selectedBranch:w,changeBranch:g,allTrees:b,getPathFromSha:E,getShafromPath:Z},children:r})})}r.default=m},59732:function(e,r,n){n.d(r,{M:function(){return t}});var t=new(n(56303).v)({auth:!1})}}]);
//# sourceMappingURL=833.5c25982a.chunk.js.map