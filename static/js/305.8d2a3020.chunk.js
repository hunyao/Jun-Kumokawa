"use strict";(self.webpackChunkJun_Kumokawa=self.webpackChunkJun_Kumokawa||[]).push([[305],{84833:function(e,r,n){n.r(r),n.d(r,{Consumer:function(){return h},Provider:function(){return f},RepositoryConsumer:function(){return h},RepositoryProvider:function(){return m},repositoryContext:function(){return p}});var t=n(74165),a=n(93433),o=n(15861),u=n(29439),c=n(72791),s=n(59732),i=n(80184),p=c.createContext({}),f=p.Provider,h=p.Consumer,l={branches:[],tags:[],commits:[]};function m(e){var r=e.children,n=c.useState(l),p=(0,u.Z)(n,2),h=p[0],m=p[1],d=c.useState({name:"",commit:{sha:"",url:""}}),b=(0,u.Z)(d,2),g=b[0],w=b[1],v=c.useState([]),y=(0,u.Z)(v,2),k=y[0],E=y[1];function Z(e){return x.apply(this,arguments)}function x(){return(x=(0,o.Z)((0,t.Z)().mark((function e(r){var n,a,o,u;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=1,a=[];case 2:return e.next=5,s.M.request("".concat(r,"?per_page={per_page}&page={page}"),{owner:"hunyao",repo:"Jun-Kumokawa",per_page:100,page:n});case 5:if(o=e.sent,0!==(u=o.data).length&&5!==n){e.next=11;break}return e.abrupt("break",15);case 11:a=a.concat(u),n+=1;case 13:e.next=2;break;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}c.useEffect((function(){Promise.all([s.M.request("GET /repos/{owner}/{repo}/branches/master",{owner:"hunyao",repo:"Jun-Kumokawa"}),Z("GET /repos/{owner}/{repo}/branches"),Z("GET /repos/{owner}/{repo}/tags"),Z("GET /repos/{owner}/{repo}/commits")]).then((function(e){var r=(0,u.Z)(e,4),n=r[0],t=r[1],o=r[2],c=r[3];m({branches:Array.from([].concat((0,a.Z)(t),[n.data])),tags:o,commits:c}),w(n.data)}))}),[]),c.useEffect((function(){""!==g.commit.sha&&s.M.request("GET /repos/{owner}/{repo}/git/trees/{tree_sha}?recursive=1",{owner:"hunyao",repo:"Jun-Kumokawa",tree_sha:g.commit.sha}).then((function(e){var r=e.data;E(r)}))}),[g]);var C=c.useCallback((function(e){if(0!==k.length&&""!==e)return e===g.commit.sha?"":k.tree.find((function(r){return r.sha===e})).path}),[k]),P=c.useCallback((function(e){if(0!==k.length)return k.tree.find((function(r){return r.path===e})).sha}),[k]);return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(f,{value:{state:h,dispatch:m,selectedBranch:g,changeBranch:w,allTrees:k,getPathFromSha:C,getShafromPath:P},children:r})})}r.default=m},59732:function(e,r,n){n.d(r,{M:function(){return t}});var t=new(n(56303).v)({auth:"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"})},97326:function(e,r,n){function t(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(r,{Z:function(){return t}})},45987:function(e,r,n){n.d(r,{Z:function(){return a}});var t=n(63366);function a(e,r){if(null==e)return{};var n,a,o=(0,t.Z)(e,r);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(a=0;a<u.length;a++)n=u[a],r.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}}}]);
//# sourceMappingURL=305.8d2a3020.chunk.js.map