"use strict";(self.webpackChunkJun_Kumokawa=self.webpackChunkJun_Kumokawa||[]).push([[573,833],{84833:function(e,n,r){r.r(n),r.d(n,{Consumer:function(){return m},Provider:function(){return h},RepositoryConsumer:function(){return m},RepositoryProvider:function(){return v},repositoryContext:function(){return d}});var t=r(74165),o=r(1413),a=r(15861),u=r(29439),i=r(72791),c=r(90065),s=r(59732),l=r(80184),f=(new c.v,{repository:null,branches:[],tags:[],commits:[]}),p={state:f,dispatch:function(){},selectedBranch:null,changeBranch:function(){},allTrees:null},d=i.createContext(p),h=d.Provider,m=d.Consumer,v=function(e){var n=e.children,r=i.useState(f),c=(0,u.Z)(r,2),p=c[0],d=c[1],m=i.useState(null),v=(0,u.Z)(m,2),b=v[0],Z=v[1],w=i.useState(null),g=(0,u.Z)(w,2),x=g[0],k=g[1];function y(e){return C.apply(this,arguments)}function C(){return(C=(0,a.Z)((0,t.Z)().mark((function e(n){var r,o,a,u;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=1,o=[];case 2:return e.next=5,s.M.request("".concat(n,"?per_page={per_page}&page={page}"),{owner:"hunyao",repo:"Jun-Kumokawa",per_page:100,page:r});case 5:if(a=e.sent,0!==(u=a.data).length&&5!==r){e.next=11;break}return e.abrupt("break",15);case 11:o=o.concat(u),r+=1;case 13:e.next=2;break;case 15:return e.abrupt("return",o);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return i.useEffect((function(){s.M.request("GET /repos/{owner}/{repo}",{owner:"hunyao",repo:"Jun-Kumokawa"}).then((function(e){var n=e.data;d((function(e){return(0,o.Z)((0,o.Z)({},e),{},{repository:n})}))}))}),[]),i.useEffect((function(){y("GET /repos/{owner}/{repo}/branches").then((function(e){d((function(n){return(0,o.Z)((0,o.Z)({},n),{},{branches:e})}))}))}),[]),i.useEffect((function(){y("GET /repos/{owner}/{repo}/tags").then((function(e){d((function(n){return(0,o.Z)((0,o.Z)({},n),{},{tags:e})}))}))}),[]),i.useEffect((function(){y("GET /repos/{owner}/{repo}/commits").then((function(e){d((function(n){return(0,o.Z)((0,o.Z)({},n),{},{commits:e})}))}))}),[]),i.useEffect((function(){null!==p.repository&&void 0!==p.repository.default_branch&&Z(p.branches.find((function(e){var n;return e.name===(null===(n=p.repository)||void 0===n?void 0:n.default_branch)})))}),[p.repository,p.branches]),i.useEffect((function(){var e=b;null!==e&&void 0!==e&&""!==e.commit.sha&&s.M.request("GET /repos/{owner}/{repo}/git/trees/{tree_sha}?recursive=1",{owner:"hunyao",repo:"Jun-Kumokawa",tree_sha:e.commit.sha}).then((function(e){var n=e.data;k(n)}))}),[b]),(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(h,{value:{state:p,dispatch:d,selectedBranch:b,changeBranch:Z,allTrees:x},children:n})})};n.default=v},7661:function(e,n,r){var t=r(72791),o=r(84833);n.Z=function(){var e=t.useContext(o.repositoryContext).allTrees;return t.useCallback((function(n){if(null!==e&&0!==e.tree.length){var r=e.tree.find((function(e){return e.path===n}));return void 0===r?"":r.sha}}),[e])}},65573:function(e,n,r){r.r(n),r.d(n,{default:function(){return E}});var t,o=r(29439),a=r(72791),u=r(64554),i=r(20890),c=r(95355),s=r(77227),l=r(90493),f=r(99259),p=r(93385),d=r(62656),h=r(57689),m=r(1413),v=r(45987),b=r(30168),Z=r(15021),w=r(66934),g=r(80184),x=["className"],k=(0,w.ZP)(a.forwardRef((function(e,n){var r=e.className,t=(0,v.Z)(e,x);return(0,g.jsx)(Z.ZP,(0,m.Z)({className:r+" tree-browser-list-item",ref:n},t))})))(t||(t=(0,b.Z)(["\n& {\n  padding: 8px 4px;\n  color: #8b949e;\n  user-select: none;\n  margin: 1px;\n  background: #0d1117;\n  width: calc(100% - 2px);\n}\n& > .tree-browser-list-item-label {\n  margin-left: 4px;\n  color: #58a6ff;\n}\n&.active {\n  background: #1f6feb;\n  color: #f0f6fc;\n  cursor: pointer;\n}\n&.active > .tree-browser-list-item-label {\n  color: #f0f6fc;\n}\n&:hover {\n  background: #1f6feb;\n  color: #f0f6fc;\n  cursor: pointer;\n}\n&:hover > .tree-browser-list-item-label {\n  color: #f0f6fc;\n}\n"]))),y=r(7661),C=r(84833),j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=a.useContext(C.repositoryContext).allTrees;return[a.useMemo((function(){return null===n||0===n.tree.length?[]:n.tree.filter((function(e){return"blob"===e.type})).filter((function(e){return void 0!==e.path})).map((function(e){return e.path})).filter((function(n){return n.toUpperCase().includes(e.toUpperCase())})).slice(0,50)}),[e,n])]},E=function(){var e=a.useState(""),n=(0,o.Z)(e,2),r=n[0],t=n[1],m=a.useState(0),v=(0,o.Z)(m,2),b=v[0],Z=v[1],w=j(r),x=(0,o.Z)(w,1)[0],C=(0,y.Z)(),E=(0,h.s0)();return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(u.Z,{display:"flex",alignItems:"center",mt:4,sx:{whiteSpace:"pre",fontSize:16},children:[(0,g.jsx)(c.Z,{href:"#",className:"active",children:"Jun-Kumokawa"})," / ",(0,g.jsx)(s.ZP,{autoFocus:!0,fullWidth:!0,onKeyDown:function(e){var n=e.key,r=b;"ArrowDown"===n?r+=1:"ArrowUp"===n?r-=1:"Enter"===n&&E("/blob/"+C(x[b])),r=(r=r<0?0:r)>=x.length?x.length-1:r,Z(r)},onChange:function(e){var n=e.target.value;return t(n)}})]}),(0,g.jsx)(l.Z,{disablePadding:!0,sx:{background:"#30363d"},children:x.map((function(e,n){return(0,g.jsxs)(k,{disablePadding:!0,className:n===b?"active":"",onClick:function(){return E("/blob/"+C(e))},children:[(0,g.jsx)(f.Z,{component:p.Z,sx:{fontSize:16,marginX:1,visibility:n===b?"visible":"hidden"}}),(0,g.jsx)(f.Z,{component:d.Z,sx:{fontSize:16}}),(0,g.jsx)(i.Z,{component:"span",display:"inline-block",className:"tree-browser-list-item-label",children:e})]})}))})]})}},59732:function(e,n,r){r.d(n,{M:function(){return t}});var t=new(r(63972).v)({auth:!1})},93385:function(e,n,r){var t=r(64836);n.Z=void 0;var o=t(r(45649)),a=r(80184),u=(0,o.default)((0,a.jsx)("path",{d:"M6.23 20.23 8 22l10-10L8 2 6.23 3.77 14.46 12z"}),"ArrowForwardIos");n.Z=u}}]);
//# sourceMappingURL=573.56da5a6e.chunk.js.map