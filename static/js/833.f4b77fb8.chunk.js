"use strict";(self.webpackChunkJun_Kumokawa=self.webpackChunkJun_Kumokawa||[]).push([[833],{65413:function(e,n,t){t(72791);var r=t(61889),o=t(13239),u=t(80184);n.Z=function(e){var n=e.children;return e.loading?(0,u.jsxs)(r.ZP,{container:!0,justifyContent:"center",p:2,flexDirection:"column",children:[(0,u.jsx)(r.ZP,{item:!0,textAlign:"center",children:(0,u.jsx)(o.Z,{"data-testid":"loading-circular-progress"})}),(0,u.jsx)(r.ZP,{item:!0,textAlign:"center",children:"Loading...."})]}):(0,u.jsx)(u.Fragment,{children:n})}},84833:function(e,n,t){t.r(n),t.d(n,{Consumer:function(){return Z},Provider:function(){return m},RepositoryConsumer:function(){return Z},RepositoryProvider:function(){return g},repositoryContext:function(){return d}});var r=t(74165),o=t(1413),u=t(15861),a=t(29439),i=t(72791),c=t(90065),s=t(59732),f=t(65413),l=t(80184),h=(new c.v,{repository:null,branches:[],tags:[],commits:[]}),p={state:h,dispatch:function(){},selectedBranch:null,changeBranch:function(){},allTrees:null,loading:!0,limited:!1,rateLimitResetTime:0,checkRateLimit:function(){}},d=i.createContext(p),m=d.Provider,Z=d.Consumer,g=function(e){var n=e.children,t=i.useState(h),c=(0,a.Z)(t,2),p=c[0],d=c[1],Z=i.useState(null),g=(0,a.Z)(Z,2),v=g[0],y=g[1],w=i.useState(null),x=(0,a.Z)(w,2),b=x[0],k=x[1],E=i.useState(!0),S=(0,a.Z)(E,2),j=S[0],T=S[1],_=i.useState(!0),C=(0,a.Z)(_,2),P=C[0],R=C[1],B=i.useState(!0),G=(0,a.Z)(B,2),J=G[0],K=G[1],L=i.useState(!0),M=(0,a.Z)(L,2),q=M[0],A=M[1],F=i.useState(!1),D=(0,a.Z)(F,2),N=D[0],z=D[1],H=i.useState(!0),I=(0,a.Z)(H,2),O=I[0],Q=I[1],U=i.useState(!1),V=(0,a.Z)(U,2),W=V[0],X=V[1],Y=i.useState(0),$=(0,a.Z)(Y,2),ee=$[0],ne=$[1];function te(e){return re.apply(this,arguments)}function re(){return(re=(0,u.Z)((0,r.Z)().mark((function e(n){var t,o,u,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=1,o=[];case 2:return e.next=5,s.M.request("".concat(n,"?per_page={per_page}&page={page}"),{owner:"hunyao",repo:"Jun-Kumokawa",per_page:100,page:t});case 5:if(u=e.sent,0!==(a=u.data).length&&5!==t){e.next=11;break}return e.abrupt("break",15);case 11:o=o.concat(a),t+=1;case 13:e.next=2;break;case 15:return e.abrupt("return",o);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oe(e){var n=e.headers;"0"===n["x-ratelimit-remaining"]&&(X(!0),ne(Number(n["x-ratelimit-reset"])))}return i.useEffect((function(){s.M.request("GET /repos/{owner}/{repo}",{owner:"hunyao",repo:"Jun-Kumokawa"}).then((function(e){var n=e.data;d((function(e){return(0,o.Z)((0,o.Z)({},e),{},{repository:n})}))})).catch((function(e){oe(e.response)})).finally((function(){return T(!1)}))}),[]),i.useEffect((function(){te("GET /repos/{owner}/{repo}/branches").then((function(e){d((function(n){return(0,o.Z)((0,o.Z)({},n),{},{branches:e})}))})).catch((function(e){oe(e.response)})).finally((function(){return R(!1)}))}),[]),i.useEffect((function(){te("GET /repos/{owner}/{repo}/tags").then((function(e){d((function(n){return(0,o.Z)((0,o.Z)({},n),{},{tags:e})}))})).catch((function(e){oe(e.response)})).finally((function(){return K(!1)}))}),[]),i.useEffect((function(){te("GET /repos/{owner}/{repo}/commits").then((function(e){d((function(n){return(0,o.Z)((0,o.Z)({},n),{},{commits:e})}))})).catch((function(e){oe(e.response)})).finally((function(){return A(!1)}))}),[]),i.useEffect((function(){null!==p.repository&&void 0!==p.repository.default_branch&&y(p.branches.find((function(e){var n;return e.name===(null===(n=p.repository)||void 0===n?void 0:n.default_branch)})))}),[p.repository,p.branches]),i.useEffect((function(){var e=v;null!==e&&void 0!==e&&""!==e.commit.sha&&(z(!0),s.M.request("GET /repos/{owner}/{repo}/git/trees/{tree_sha}?recursive=1",{owner:"hunyao",repo:"Jun-Kumokawa",tree_sha:e.commit.sha}).then((function(e){var n=e.data;k(n)})).catch((function(e){oe(e.response)})).finally((function(){return z(!1)})))}),[v]),i.useEffect((function(){!0!==[J,N,j,P,q].some(Boolean)?Q(!1):O||Q(!0)}),[J,N,j,P,q,O]),(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(f.Z,{loading:O,children:(0,l.jsx)(m,{value:{state:p,dispatch:d,selectedBranch:v,changeBranch:y,allTrees:b,loading:O,limited:W,rateLimitResetTime:ee,checkRateLimit:oe},children:n})})})};n.default=g},59732:function(e,n,t){t.d(n,{M:function(){return r}});var r=new(t(63972).v)({auth:!1})}}]);